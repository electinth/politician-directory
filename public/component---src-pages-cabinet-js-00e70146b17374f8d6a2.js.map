{"version":3,"sources":["webpack://politician-directory/./src/components/cabinetMemberSection/CabinetMemberList.js","webpack://politician-directory/./src/components/cabinetMemberSection/index.js","webpack://politician-directory/./src/pages/cabinet.js"],"names":["CabinetMemberList","members","title","list","sort","sortThaiLocale","map","member","position","cabinet_position","filter","pos","indexOf","join","key","id","type","css","data","useStaticQuery","presidentMinistry","presidentList","allPeopleYaml","edges","people","node","some","peoplePosition","positionComparer","ministry","a","b","aPosition","find","memberByMinistry","concat","peoplePostion","memberListWithImg","cssH1","fontSize","cssEngTitle","textAlign","margin","cssPageP","cssBarChart","props","cabinet","loadCategoryStats","gender","age","education","occupation_group","asset","pageStyles","background","className","name","party_ordinal","style","dangerouslySetInnerHTML","__html","formatOrdinalNumber","description","media","marginTop","marginBottom","fontFamily","fontWeight","totalCount"],"mappings":"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","file":"component---src-pages-cabinet-js-00e70146b17374f8d6a2.js","sourcesContent":["import React from \"react\"\n\nimport PeopleCard from \"../peopleCard\"\nimport { sortThaiLocale } from \"../../utils\"\n\nexport const CabinetMemberList = ({ members, title }) => {\n  let list = [...members]\n  list.sort(sortThaiLocale)\n  list = list.map(member => {\n    // keep only 'cabinet_position' of the current section title\n    const position = member.cabinet_position\n      .filter(pos => pos.indexOf(title) >= 0)\n      .join(\", \")\n    return (\n      <PeopleCard\n        key={member.id}\n        {...member}\n        cabinet_position={position}\n        type=\"cabinet\"\n      ></PeopleCard>\n    )\n  })\n\n  return (\n    <div\n      css={{\n        marginBottom: \"6rem\",\n      }}\n    >\n      <h2\n        css={{\n          textAlign: \"center\",\n          fontSize: \"3.6rem\",\n          margin: \"3rem\",\n        }}\n      >\n        {title}\n      </h2>\n      <div\n        css={{\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          margin: \"0 auto\",\n          justifyContent: \"center\",\n        }}\n      >\n        {list}\n      </div>\n    </div>\n  )\n}\n","import React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport { CabinetMemberList } from \"./CabinetMemberList\"\n\nconst CabinetMemberSection = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      allPeopleYaml(\n        filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n      ) {\n        edges {\n          node {\n            id\n            title\n            name\n            lastname\n            cabinet_position\n            party\n            party_group\n            mp_type\n            fields {\n              slug\n            }\n          }\n        }\n      }\n    }\n  `)\n\n  const ministryList = [\n    \"รองนายกรัฐมนตรี\",\n    \"สำนักนายกรัฐมนตรี\",\n    \"กระทรวงกลาโหม\",\n    \"กระทรวงการคลัง\",\n    \"กระทรวงการต่างประเทศ\",\n    \"กระทรวงการท่องเที่ยวและกีฬา\",\n    \"กระทรวงพัฒนาสังคมและความมั่นคงของมนุษย์\",\n    \"กระทรวงการอุดมศึกษา วิทยาศาสตร์ วิจัยและนวัตกรรม\",\n    \"กระทรวงเกษตรและสหกรณ์\",\n    \"กระทรวงคมนาคม\",\n    \"กระทรวงดิจิทัลเพื่อเศรษฐกิจและสังคม\",\n    \"กระทรวงทรัพยากรธรรมชาติและสิ่งแวดล้อม\",\n    \"กระทรวงพลังงาน\",\n    \"กระทรวงพาณิชย์\",\n    \"กระทรวงมหาดไทย\",\n    \"กระทรวงยุติธรรม\",\n    \"กระทรวงแรงงาน\",\n    \"กระทรวงวัฒนธรรม\",\n    \"กระทรวงศึกษาธิการ\",\n    \"กระทรวงสาธารณสุข\",\n    \"กระทรวงอุตสาหกรรม\",\n  ]\n\n  // president need special filter\n  const presidentMinistry = \"นายกรัฐมนตรี\"\n  const presidentList = data.allPeopleYaml.edges.filter(people =>\n    people.node.cabinet_position.some(\n      peoplePosition => peoplePosition === presidentMinistry\n    )\n  )\n\n  const positionComparer = ministry => (a, b) => {\n    const aPosition = a.node.cabinet_position.find(\n      position => position.indexOf(ministry) > -1\n    )\n    const bPosition = b.node.cabinet_position.find(\n      position => position.indexOf(ministry) > -1\n    )\n\n    if (aPosition === bPosition) return -1\n\n    return aPosition.indexOf(\"ช่วย\") > -1 ? 1 : -1\n  }\n\n  const memberByMinistry = [\n    {\n      ministry: presidentMinistry,\n      members: presidentList,\n    },\n  ].concat(\n    ministryList.map(ministry => ({\n      ministry,\n      members: data.allPeopleYaml.edges\n        .filter(people =>\n          people.node.cabinet_position.some(\n            peoplePostion => peoplePostion.indexOf(ministry) > -1\n          )\n        )\n        .sort(positionComparer(ministry)),\n    }))\n  )\n\n  const renderCabinetMemberLists = () =>\n    memberByMinistry.map(({ ministry, members: memberList }) => {\n      const memberListWithImg = memberList.map(member => ({\n        ...member.node,\n      }))\n      return (\n        <CabinetMemberList\n          key={ministry}\n          members={memberListWithImg}\n          title={ministry}\n        />\n      )\n    })\n\n  return <div>{renderCabinetMemberLists()}</div>\n}\n\nexport default CabinetMemberSection\n","import React from \"react\"\nimport { graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { loadCategoryStats, formatOrdinalNumber } from \"../utils\"\nimport StackedBarChart from \"../components/stackedBarChart\"\nimport { OfficialWebsite, InOfficeDate } from \"../components/profile\"\nimport CabinetMemberSection from \"../components/cabinetMemberSection\"\nimport { media } from \"../styles\"\n\nimport \"../styles/profile-book.css\"\n\nexport const query = graphql`\n  query {\n    cabinet: partyYaml(party_type: { eq: \"ครม\" }) {\n      name\n      party_ordinal\n      description\n      established_date\n      dissolved_date\n      website\n      facebook\n      twitter\n      is_active\n    }\n    allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      totalCount\n    }\n    gender: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      group(field: gender) {\n        value: totalCount\n        name: fieldValue\n      }\n    }\n    education: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      group(field: education) {\n        value: totalCount\n        name: fieldValue\n      }\n    }\n    occupation_group: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      group(field: occupation_group) {\n        value: totalCount\n        name: fieldValue\n      }\n    }\n    age: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      edges {\n        node {\n          birthdate\n        }\n      }\n    }\n    asset: allPeopleYaml(\n      filter: { is_cabinet: { eq: true }, is_active: { eq: true } }\n    ) {\n      edges {\n        node {\n          asset\n        }\n      }\n    }\n  }\n`\n\nconst cssH1 = {\n  fontSize: \"4rem\",\n}\n\nconst cssEngTitle = {\n  fontSize: \"2.4rem\",\n  textAlign: \"left\",\n  margin: \"1.5rem 0 1.2rem 0\",\n}\n\nconst cssPageP = {}\n\nconst cssBarChart = {\n  margin: \"1rem 0\",\n}\n\nconst CabinetPage = props => {\n  const { cabinet, ...data } = props.data\n  const { gender, age, education, occupation_group, asset } = loadCategoryStats(\n    data\n  )\n\n  return (\n    <Layout pageStyles={{ background: \"#c0e4ff\" }}>\n      <SEO title=\"คณะรัฐมนตรี\" />\n\n      <section className=\"section\">\n        <div className=\"book\">\n          <div className=\"page leftPage\">\n            <h1 css={{ ...cssH1, margin: \"1rem 0 0 0\" }}>\n              {cabinet.name} ชุดที่ {cabinet.party_ordinal}\n            </h1>\n            <h2 style={{ ...cssEngTitle }}>\n              <span\n                dangerouslySetInnerHTML={{\n                  __html: formatOrdinalNumber(cabinet.party_ordinal),\n                }}\n              />{\" \"}\n              Cabinet\n            </h2>\n            <h2 css={{ ...cssEngTitle }}>About</h2>\n            <p css={{ ...cssPageP }}>{cabinet.description}</p>\n            <h2 css={{ ...cssEngTitle }}>Official Link</h2>\n            <OfficialWebsite {...cabinet}></OfficialWebsite>\n            <h2 css={{ ...cssEngTitle }}>In Office</h2>\n            <InOfficeDate {...cabinet}></InOfficeDate>\n          </div>\n          <div className=\"page\">\n            <h2\n              css={{\n                ...cssEngTitle,\n                [media(767)]: {\n                  marginTop: \"11rem\",\n                  marginBottom: \"0rem\",\n                },\n              }}\n            >\n              Members\n            </h2>\n            <h2\n              css={{\n                ...cssEngTitle,\n                fontFamily: \"var(--ff-text)\",\n                fontWeight: \"normal\",\n              }}\n            >\n              คณะรัฐมนตรีจำนวน {data.allPeopleYaml.totalCount} คน\n            </h2>\n            <div css={{ width: \"100%\" }}>\n              <div css={{ ...cssBarChart }}>\n                <StackedBarChart data={gender}></StackedBarChart>\n              </div>\n              <div css={{ ...cssBarChart }}>\n                <StackedBarChart data={age}></StackedBarChart>\n              </div>\n              <div css={{ ...cssBarChart }}>\n                <StackedBarChart data={education}></StackedBarChart>\n              </div>\n              <div css={{ ...cssBarChart }}>\n                <StackedBarChart data={occupation_group}></StackedBarChart>\n              </div>\n              <div style={{ ...cssBarChart }}>\n                <StackedBarChart data={asset}></StackedBarChart>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      <section className=\"section\" css={{ background: \"var(--cl-white)\" }}>\n        <h1 css={{ fontSize: \"4.8rem\", textAlign: \"center\" }}>สมาชิกทั้งหมด</h1>\n        <div className=\"container\">\n          <CabinetMemberSection />\n        </div>\n      </section>\n    </Layout>\n  )\n}\n\nexport default CabinetPage\n"],"sourceRoot":""}